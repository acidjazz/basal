var _,slice=[].slice;_={i:function(){return this.console=setInterval(this.detect.bind(this),200)},p:{offing:!1,offtime:0},turn:function(m,n,d){return null==n&&(n=!1),null==d&&(d=!1),m instanceof jQuery||(m=$(m)),n!==!1&&m.removeClass(n),d!==!1&&m.addClass(d),!0},off:function(m,n){null==n&&(n={}),n.offing&&n.offtime>0?(this.turn(m,!1,"offing"),setTimeout(function(n){return function(){return n.turn(m,"offing",!1),n.turn(m,"on","off")}}(this),1e3*n.offtime+100)):this.turn(m,"on","off")},on:function(m,n){return this.turn(m,"off","on")},swap:function(m,n){m instanceof jQuery||(m=$(m)),m.hasClass("off")?this.on(m,n):this.off(m,n)},encode:function(m){return encodeURIComponent(m).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},t:function(m,n,d,t){return _gaq.push(["_trackEvent",m,n,d,t])},rand:function(m,n){return Math.floor(Math.random()*n)+m},fit:function(m,n,d,t){var e;return e=Math.min(d/m,t/n),{width:m*e,height:n*e}},jinit:function(){return $.ajaxSetup({dataType:"json"})},patch:function(m,n){var d;return _.jinit(),d=$.ajax({url:m,data:n,type:"PATCH"}),d.always(function(m){return Spinner.d()}),d.fail(function(m){var n,d;return d=m.responseJSON.error,n="<b>"+d.message+"</b><br /><br />\n"+d.file+":"+d.line,Prompt.i(d.type,n,["OK"])}),d},get:function(){var m,n;return m=1<=arguments.length?slice.call(arguments,0):[],_.jinit(),n=$.get.apply($,m),n.always(function(m){return Spinner.d()}),n.fail(function(m){var n,d;return d=m.responseJSON.error,n="<b>"+d.message+"</b><br /><br />\n"+d.file+":"+d.line,Prompt.i(d.type,n,["OK"])}),n},llc:function(){var m;return m="\n%cmmm/............................................................./mmm\nmmo................-:://::-.......-:::::::::::::-........-::///:-.omm\nmd-.............:+yhddddddhy+-..../ddddddddddddd+....../shdddddddyodm\nmo.............-hmmmhyyyydmmmh:.../mmmmhhhhhhhhh+....:ydmmdhyyyhddoom\nm-..............-ss:-....-ymmmy.../mmmm---------....:dmmms:-...-:/.-m\nd.........................ymmmy.../mmmm-/+ooo+:-....ymmmy-:+ooo+/-..d\nh.......................:smmmd:.../mmmmhmmmmmmdh+...dmmmshdmmmmmmhs-h\nh.....................:sdmmdy:....:hhdho+//+ymmmm+..dmmmdyo//+sdmmmhh\nd..................-+ydmmdy/.......--:.......smmmh..ymmms......:mmmmm\nm-..............-:shmmmds/-----....:s/--...-:hmmms..:dmmd/-...-ommmmm\nmo..............hmmmmmmhhhhhhhh...+dmmdhyyyhdmmmy-.../hmmmhyyyhmmmdhm\nmd-.............ddddddddddddddd...-+shdddddddhy/-.....-oydddddddho:dm\nmmo.............:::::::::::::::.......-:///::-...........-:///:-..omm\nmmm/............................................................./mmm\n\n:: syntactic sugar by 256\n:: http://256.io/\n:: "+config.meta.repo,console.log(m,"color: grey; font-family: Menlo, monospace;")},detect:function(){if(window.outerHeight-window.innerHeight>100||window.outerWidth-window.innerWidth>100)return this.llc(),clearInterval(this.console)}},_.i();
var Global;Global={window:!1,i:function(){return Global.handlers(),Global.loginCheck()},handlers:function(){return $("header > .inner > .user > .profile").click(Global.userProfileHandler),$("header > .inner > .user > .oauths > .oauth").click(Global.userOauthHandler),$("header > .inner > .user > .picture > .logout").click(Global.logoutHandler)},logoutHandler:function(){return Spinner.i($("header")),Me.logout(function(){return _.swap(".user > .profile"),_.swap(".user > .picture"),Notice.i("Logout Successful","success")})},userProfileHandler:function(){var e,o;return e=$(".oauths"),o=new TimelineMax({repeat:0}),e.hasClass("off")?(_.on(e),o.to("#profileSVG",.8,{morphSVG:"#cancelSVG",ease:Back.easeInOut})):(o.to("#profileSVG",.8,{morphSVG:"#profileSVG",ease:Back.easeInOut}),_.off(e,{offing:.5}))},userOauthHandler:function(){var e;return e=$(this).data("type"),Global.userProfileHandler(),"cancel"===e||(Global.oauthWindow("/loading"),Spinner.i($("header")),Me.oauth(e,function(e){return Global.window.location.href=e}))},oauthWindow:function(e){var o,n,r,i;i=640,o=550,n=screen.width/2-i/2,r=screen.height/2-o/2,Global.window=window.open(e,"Login / Register","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+i+",height="+o+",top="+r+",left="+n),window.focus&&Global.window.focus},oauthComplete:function(e){return Spinner.d(),Global.login(e),Notice.i("Login Successful","success")},login:function(e){return window.User=e,$("header > .inner > .user > .picture > img").attr("src",User.picture),_.off(".user > .profile"),_.off(".user > .oauths"),_.on(".user > .picture")},loginCheck:function(){return Me.authed(function(e){if(e!==!1)return Global.login(e)})}};
var Index;_.constructor(),Index=function(){function t(){this.handlers()}return t.prototype.handlers=function(){return $(".top .burger").click(this.mobile)},t.prototype.mobile=function(){return _.swap(".top > .burger"),_.swap(".top > .menu")},t}();

var Me;Me={logout:function(t){return _.get("/api/auth/logout").done(function(n){return t()})},oauth:function(t,n){return _.get("/api/auth/"+t).done(function(t){return n(t.data.uri)})},authed:function(t){return _.get("/api/auth").done(function(n){return t(n.data.user)})}};
var Notice;Notice={types:["info","success","warning"],el:!1,on:!1,timeout:!1,i:function(e,o){var t,i,n,c;for(null==o&&(o="info"),Notice.el===!1&&(Notice.el=$(".notice")),c=Notice.types,i=0,n=c.length;i<n;i++)t=c[i],Notice.el.removeClass(t);return Notice.el.addClass(o),Notice.el.find(".copy > .message").html(e),Notice.on===!1&&(_.on(Notice.el),Notice.handlers.on(),Notice.on=!0),Notice.timeout=setTimeout(function(){return Notice.d()},5e3)},handlers:{on:function(){return $(".notice > .inner > .close").click(Notice.d)},off:function(){return $(".notice > .inner > .close").unbind("click",Notice.d)}},d:function(){return Notice.timeout!==!1&&clearTimeout(Notice.timeout),Notice.timeout=!1,Notice.handlers.off(),_.off(Notice.el,{offing:!0,offtime:.2}),Notice.on=!1}};
var Prompt,indexOf=[].indexOf||function(t){for(var o=0,e=this.length;o<e;o++)if(o in this&&this[o]===t)return o;return-1};Prompt={el:{},options:{},callback:!1,params:{},i:function(t,o,e,r,n){var a,i,p,l,c;null==e&&(e=["OK"]),Prompt.callback=!1,Prompt.params=!1,"function"==typeof r&&(Prompt.callback=r),"function"==typeof n&&(Prompt.callback=n),"object"==typeof r&&(Prompt.params=r),Prompt.el=$(".prompt"),Prompt.el.find(".title").html(t),Prompt.el.find(".copy").html(o),"object"==typeof r&&"textarea"in r&&r.textarea===!0&&(_.on(Prompt.el.find(".textarea")),Prompt.el.find(".textarea > textarea").val(r.value)),Prompt.options=Prompt.el.find(".options > .option"),_.off(Prompt.options),Prompt.options.removeClass("active"),Prompt.options.first().addClass("active");for(a=i=0,p=e.length;i<p;a=++i)l=e[a],c=Prompt.el.find(".options  > .option_"+(a+1)),_.on(c),c.html(l).data("value",l);return _.on(Prompt.el,_.on(".fade")),Prompt.handlers()},handlers:function(){return $(document).keydown(Prompt.keydown),Prompt.options.on("click",Prompt.click),Prompt.el.find(".inner > .cancel").on("click",Prompt.cancel)},keydown:function(){var t,o,e,r;return o=event.which,e=[39,9,37,13,27],indexOf.call(e,o)<0||(t=Prompt.el.find(".option.on.active"),r=window.event.shiftKey,39===o||9===o&&!r?(t.removeClass("active"),t.next().hasClass("on")?t.next().addClass("active"):Prompt.el.find(".option_1").addClass("active"),!1):37===o||9===o&&r?(t.removeClass("active"),t.prev().hasClass("on")?t.prev().addClass("active"):Prompt.el.find(".option.on").last().addClass("active"),!1):13===o?(Prompt.trigger(Prompt.el.find(".option.active").data("value")),!1):27===o?(Prompt.trigger(!1),!1):void 0)},cancel:function(){return Prompt.trigger(!1)},click:function(){return Prompt.trigger($(this).data("value"))},trigger:function(t){var o;return _.off(Prompt.el.find(".textarea")),_.off(Prompt.el),_.off(".fade"),Prompt.options.unbind("click",Prompt.click),$(document).unbind("keydown",Prompt.keydown),console.log(Prompt.params),Prompt.params.textarea?(o=Prompt.el.find(".textarea > textarea").val(),"function"==typeof Prompt.callback?Prompt.callback({response:t,val:o}):void 0):"function"==typeof Prompt.callback?Prompt.callback(t):void 0}};
var Spinner;Spinner={el:{},i:function(t,n){var i,e,o,r;if(this.el=$(".spinner"),r=t[0].getBoundingClientRect(),e={top:r.top+$(window).scrollTop()+"px",left:r.left+"px",width:r.width+"px",height:r.height+"px"},void 0!==n)for(o in n)i=n[o],e[o]=i;return this.el.css(e),_.on(this.el)},d:function(){return setTimeout(function(t){return function(){return _.off(t.el)}}(this),100)}};